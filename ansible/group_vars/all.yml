---
# Connection settings
ansible_user: deployer
ansible_ssh_port: 1923

# SSH hardening
ssh_port: 1923

# System packages
base_packages:
  - apt-transport-https
  - ca-certificates
  - curl
  - gnupg
  - lsb-release
  - unattended-upgrades
  - fail2ban
  - ufw
  - jq

# Fail2ban
fail2ban_maxretry: 5
fail2ban_bantime: 3600

# Firewall ports
firewall_allowed_tcp_ports:
  - "{{ ssh_port }}"
  - "80"
  - "443"
  - "8081"  # MIT client connections
firewall_allowed_udp_ports:
  - "443"

# Firewall TCP port ranges (used for services requiring contiguous port blocks)
firewall_allowed_tcp_port_ranges:
  - range: "10000:10999"
    comment: "make-it-public TCP edge server"

# Firewall rules with source IP restrictions
firewall_allowed_from_sources:
  - port: "8082"
    proto: tcp
    from: "10.0.0.0/8"
    comment: "8082 TCP for internal Docker services"

# Docker
docker_log_max_size: "10m"
docker_log_max_file: "3"
docker_metrics_addr: "127.0.0.1:9323"

# Docker Swarm
swarm_instance_name: "cloudlab-swarm"
swarm_overlay_network: "cloudlab-public"

# Cloudlab directories
cloudlab_base_dir: /opt/cloudlab
cloudlab_dirs:
  - "{{ cloudlab_base_dir }}/scripts"
  - "{{ cloudlab_base_dir }}/stacks"

# Grafana Alloy (overridden by CI/CD secrets)
grafana_cloud_logs_url: ""
grafana_cloud_logs_id: ""
grafana_cloud_metrics_url: ""
grafana_cloud_metrics_id: ""
grafana_cloud_api_key: ""
